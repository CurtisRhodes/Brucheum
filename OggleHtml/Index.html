<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OggleBooble</title>
    <link rel='shortcut icon' href='Images/favicon.png' type='image/x-icon' />
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script src='https://code.jquery.com/ui/1.12.1/jquery-ui.min.js' type='text/javascript'></script>
    <link href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css' rel='stylesheet' />
    <script src='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js' type="text/javascript"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.js"></script>
    <script src="Scripts/Common.js"></script>
    <script src="Scripts/Carousel.js"></script>
    <script src="Scripts/DirTree.js"></script>
    <script src="Scripts/CategoryDialog.js"></script>
    <script src="Scripts/ModelInfoDialog.js"></script>
    <script src="Scripts/ImageCommentDialog.js"></script>
    <script src="Scripts/MoveCopyArchive.js"></script>
    <script src="Scripts/MetaTagDialog.js"></script>

    <link href="Styles/jqueryUI.css" rel="stylesheet" />
    <link href="Styles/loginDialog.css" rel="stylesheet" />
    <link href="Styles/Common.css" rel="stylesheet" />
    <link href="Styles/Carousel.css" rel="stylesheet" />
    <link href="Styles/ImagePage.css" rel="stylesheet" />
    <link href="Styles/MoveCopyArchiveDialog.css" rel="stylesheet" />
    <link href="Styles/ModelInfoDialog.css" rel="stylesheet" />
    <link href="Styles/CommentDialog.css" rel="stylesheet" />
    <link href="Styles/CategoryDialog.css" rel="stylesheet" />
    <link href="Styles/MetaTagDialog.css" rel="stylesheet" />
</head>
  <body>
    <div w3-include-html="Snippets/BoobsHeader.html"></div>
    <div class="threeColumnLayout">
        <div id="leftColumn">
            <div class="leftColumnList">
                <div onclick="window.location.href='/home/transitions?folder=boobs'">Transitions</div>
                <div onclick="window.location.href='/home/BoobsRanker'">Boobs Rater</div>
                <div onclick="showCustomMessage(38)">Let me Explain</div>
                <div onclick="showCatListDialog()">Category List</div>
                <div onclick="window.location.href='/admin/blog'">Blog</div>
                <div onclick="window.location.href='/home/Mobile?folder=boobs'">Mobile</div>
                <div onclick="showCustomMessage(35)">Nasty Porn</div>
            </div>
        </div>
        <div id="middleColumn">
            <div id="customMessage" class="displayHidden customMessageContainer"></div>
            <div id="divStatusMessage"></div>
            <div class="flexContainer">

                <div class="floatLeft">
                    <div class="galleryCheckBox"><input type="checkbox" onchange="loadImages('playboy', $(this).is(':checked'), 0, 1000)" /> Include Centerfolds</div>
                    <div class="galleryCheckBox"><input type="checkbox" onchange="loadImages('archive', $(this).is(':checked'), 0, 50000)" /> Include Archive</div>
                    <div id="dots"></div>
                </div>

                <div class="floatLeft" id="carousel">
                    <div class="centeredDivShell randomImageContainer">
                        <div class="centeredDivInner">
                            <!--<div id="categoryTitle" class="floatingLabel" onmouseover="slowlyShowFolderCategoryDialog(); forgetShowingCatDialog=false;" onmouseout="forgetShowingCatDialog=true;"></div>-->
                            <div id="categoryTitle" class="floatingLabel" onmouseover="slowlyShowFolderCategoryDialog(); forgetShowingCatDialog=false;" onmouseout="forgetShowingCatDialog=true;"></div>
                            <div id="laCarousel" class="carouselContainer">
                                <div class="carouselImageContainer">
                                    <img id="thisCarouselImage" oncontextmenu="carouselContextMenu()" class="carouselImage" src="Images/ingranaggi3.gif" onclick="clickViewGallery()" />
                                    <div class="imgBottom">
                                        <img class="speedButton floatLeft" src="Images/speedDialSlower.png" title="slower" onclick="clickSpeed('slower')" />
                                        <div id="pauseButton" class='pauseButton' onclick="togglePause()">||</div>
                                        <div id='categoryLabel' class='carouselCategoryLabel' onclick="clickViewParentGallery()"></div>
                                        <img class="speedButton floatRight" src="Images/speedDialFaster.png" title="faster" onclick="clickSpeed('faster')" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="rightColumn"></div>
    </div>
    <div id="carouselContextMenu" class="ogContextMenu" onmouseleave="considerHidingContextMenu()">
        <div id="ctxModelName" onclick="carouselContextMenuAction('showDialog')">model name</div>
        <div id="ctxSeeMore" onclick="carouselContextMenuAction('seeMore')">See More</div>
        <div onclick="carouselContextMenuAction('explode')">Explode</div>
        <div onclick="carouselContextMenuAction('comment')">Comment</div>
        <div onclick="carouselContextMenuAction('tags')">Tags</div>
        <div id="ctxMove" onclick="carouselContextMenuAction('archive')">Archive</div>
    </div>
    <div w3-include-html="Snippets/BoobsFooter.html"></div>
    <div w3-include-html="Snippets/AdminDialogs.html"></div>
    <div w3-include-html="Snippets/Login.html"></div>
    <div w3-include-html="Snippets/Register.html"></div>
    <div id="promoContainer" class="ogglePromoContainer">
        <div id="promoContainerTitle" class="ogglePromoTitle"></div>
        <div id="promoContainerText" class="ogglePromoText"></div>
        <div onclick="killPromoMessages()" class="tinyDots" onmouseover="$('#killPromoPrompt').show()" onmouseout="$('#killPromoPrompt').hide()">...</div>
        <div id="killPromoPrompt" class="ogglePromoKillMessage">had enough promo messages?</div>
    </div>
    <div id="boobCatTreeContainer" class="oggleHidden" title="boobs"></div>

    <script>
        var promoIdx = 0;
        var promoMessagesArray = new Array();
        var promoMessageRotator;
        var promoMessageRotationSpeed = 8000;

        $(document).ready(function () {
            includeHTML();

            //$('#footerLastBuild').html("last build: " + lastBuild + "3");
            var subdomain
            params = getParams();
            if (params.subdomain == undefined)
                subdomain = "boobs";
            else
                subdomain = params.subdomain;

            var dots = ""
            var waiter = setInterval(function () {
                if (settingsArray.ApiServer === undefined) {
                    dots += ". ";
                    $('#dots').html(dots);
                }
                else {
                    $('#dots').html('');
                    clearInterval(waiter);
                    launchCarousel(subdomain);
                    logVisit();
                    launchPromoMessages();
                }
            }, 300);

            $('#boobCatTreeContainer').dialog({
                autoOpen: false,
                show: { effect: "fade" },
                hide: { effect: "blind" },
                position: ({ my: 'left top', at: 'left top', of: $('#middleColumn') }),
                width: 411,
                height: 600
            });
            resizePage();
        });

        function launchPromoMessages() {
                $.ajax({
                    type: "GET",
                    url: settingsArray.ApiServer + "/api/OggleBlog/GetBlogList?commentType=PRO",
                    success: function (blogCommentsContainer) {
                        if (blogCommentsContainer.Success == "ok") {
                            $.each(blogCommentsContainer.blogComments, function (idx, blogComment) {
                                promoMessagesArray.push({
                                    FolderId: blogComment.Id,
                                    Link: blogComment.Link,
                                    CommentTitle: blogComment.CommentTitle,
                                    CommentText: blogComment.CommentText
                                });
                            });
                            showPromoMessages();
                        }
                        else {
                            $('#blogLoadingGif').hide();
                            alert("loadPromoMessages: " + blogCommentsContainer.Success)
                        }
                    },
                    error: function (jqXHR, exception) {
                        $('#blogLoadingGif').hide();
                        alert("launchPromoMessages jqXHR : " + getXHRErrorDetails(jqXHR, exception) + "settingsArray.ApiServer: " + settingsArray.ApiServer);
                    }
                });
            }

        function showPromoMessages() {
            $('#promoContainer').fadeIn();
            var currentItem = promoMessagesArray[promoIdx];
            $('#promoContainerTitle').html(currentItem.CommentTitle);
            $('#promoContainerText').html(currentItem.CommentText);

            promoMessageRotator = setInterval(function () {

                if (promoIdx === promoMessagesArray.length) {
                    promoIdx = 0;
                }
                currentItem = promoMessagesArray[promoIdx];
                $('#promoContainerTitle').html(currentItem.CommentTitle);
                $('#promoContainerText').html(currentItem.CommentText);
                promoIdx++;
            }, promoMessageRotationSpeed);
        }

        function killPromoMessages() {
            $('#promoContainer').fadeOut();
            clearInterval(promoMessageRotator);
            setInterval(function () { showPromoMessages() }, 30000);
        }

        function showCustomMessage(blogId) {
            if (typeof pause === 'function') {
                pause();
            }
            $.ajax({
                type: "GET",
                url: settingsArray.ApiServer + "api/OggleBlog/?blogId=" + blogId,
                success: function (entry) {
                    if (entry.Success === "ok") {
                        $('#customMessage').html(entry.CommentText).show();
                    }
                    else
                        alert(entry.Success);
                },
                error: function (xhr) {
                    alert("showSiteContent xhr: " + getXHRErrorDetails(xhr));
                }
            });
            //if ($('#pornWarning').html() == "")
        }

        function letemPorn(response) {
            // record hit
            //alert("letemPorn: " + response);
            if (response == "ok") {
                window.location.href = '/index.html?subdomain=porn';
            }
            else {
                $('#customMessage').hide();
                if (typeof resume === 'function') {
                    resume();
                }
            }
        }

        function showCatListDialog() {
            buildDirTree($('#boobCatTreeContainer'), "boobCatTreeContainer", 2);
            $('#boobCatTreeContainer').dialog('open');
        }

        function boobCatTreeContainerClick(path, id, treeId) {
            if (treeId == "boobCatTreeContainer") {
                window.location.href = "/album.html?folder=" + id;
                $('#boobCatTreeContainer').dialog('close')
            }
            else
                alert("dirTreeClick treeId: " + treeId);
        }
    </script>
  </body>
</html>
