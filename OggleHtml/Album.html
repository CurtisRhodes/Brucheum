<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OggleHtml</title>
    <link rel='shortcut icon' href='Images/favicon.png' type='image/x-icon' />

    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />

    <script src='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js' type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.js"></script>
    <script src="Scripts/Login.js"></script>
    <script src="Scripts/Common.js"></script>
    <script src="Scripts/OggleHeader.js"></script>
    <script src="Scripts/OggleFooter.js"></script>
    <script src="Scripts/Carousel.js"></script>
    <script src="Scripts/DirTree.js"></script>
    <script src="Scripts/HitCounter.js"></script>
    <script src="Scripts/FolderCategoryDialog.js"></script>
    <script src="Scripts/ModelInfoDialog.js"></script>
    <script src="Scripts/ImageCommentDialog.js"></script>
    <script src="Scripts/MoveCopyArchive.js"></script>
    <script src="Scripts/MetaTagDialog.js"></script>
    <script src="Scripts/Slideshow.js"></script>
    <script src="Scripts/Album.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.css" rel="stylesheet">
    <link href="Styles/bootstrap 3.3.5.css" rel="stylesheet" />
    <!--<link href='https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css' rel='stylesheet' />-->
    <link href="Styles/jqueryUI.css" rel="stylesheet" />
    <link href="Styles/loginDialog.css" rel="stylesheet" />
    <link href="Styles/Header.css" rel="stylesheet" />
    <link href="Styles/Common.css" rel="stylesheet" />
    <link href="Styles/Slideshow.css" rel="stylesheet" />
    <link href="Styles/ImagePage.css" rel="stylesheet" />
    <link href="Styles/MoveCopyArchiveDialog.css" rel="stylesheet" />
    <link href="Styles/ModelInfoDialog.css" rel="stylesheet" />
    <link href="Styles/ImageCommentDialog.css" rel="stylesheet" />
    <link href="Styles/FolderCategoryDialog.css" rel="stylesheet" />
    <link href="Styles/MetaTagDialog.css" rel="stylesheet" />
</head>
  <body>
    <header></header>
    <div class="threeColumnLayout">
        <div id="leftColumn"></div>
        <div id="middleColumn">
            <div id="divBreadCrumbs"></div>
            <div id="divStatusMessage"></div>
            <div id="divTestBox" class="attrBox"></div>
            <img id="imagePageLoadingGif" class="loadingGif" src="Images/loader.gif" />
            <div id="dots"></div>
            <div id="imageContainer" class="flexWrapContainer"></div>
            <div id="fileCount" class="countContainer"></div>
        </div>
        <div id="rightColumn"></div>
    </div>
    <footer></footer>
    <div id="thumbImageContextMenu" class="ogContextMenu" onmouseleave="$(this).fadeOut(); $('#linkInfo').hide();">
        <div id="ctxModelName" onclick="contextMenuAction('show')">model name</div>
        <div id="ctxSeeMore" onclick="contextMenuAction('jump')">see more of her</div>
        <div onclick="contextMenuAction('comment')">Comment</div>
        <div onclick="contextMenuAction('explode')">explode</div>
        <div onclick="contextMenuAction('showLinks')">Show Links</div>
        <div id="linkInfo" class="innerContextMenuInfo">
            <div id="linkInfoContainer"></div>
        </div>
        <div id="ctxArchive" class="adminLink" onclick="contextMenuAction('archive')">Archive</div>
        <div class="adminLink" onclick="contextMenuAction('copy')">Copy Link</div>
        <div class="adminLink" onclick="contextMenuAction('move')">Move Link</div>
        <div class="adminLink" onclick="contextMenuAction('remove')">Remove Link</div>
        <div class="adminLink" onclick="contextMenuAction('setF')">Set as Folder Image</div>
        <div class="adminLink" onclick="contextMenuAction('setC')">Set as Category Image</div>
    </div>

    <div w3-include-html="Snippets/Slideshow.html"></div>
    <div w3-include-html="Snippets/AdminDialogs.html"></div>
    <div w3-include-html="Snippets/Login.html"></div>
    <div w3-include-html="Snippets/Register.html"></div>

    <script>
        var permissionsSet = false;
        var isPornEditor = false;
        $(document).ready(function () {
            includeHTML();
            resizePage();
            params = getParams();
            if (params.folder == undefined) {
                window.location.href = "Index.html";
            }
            var dots = "";
            loadSettings();
            var waiter = setInterval(function () {
                if (settingsArray.ApiServer === undefined) {
                    dots += ". ";
                    $('#dots').html(dots);
                }
                else {
                    clearInterval(waiter);

                    setUserPermissions();


                    var waiter2 = setInterval(function () {
                        dots += "* ";
                        $('#dots').html(dots);
                        if (permissionsSet === true) {
                            $('#dots').html('');
                            clearInterval(waiter2);
                            $('#footerMessage').html("isPornEditor: " + isPornEditor);
                            //alert("Album.html isPornEditor: " + isPornEditor);
                            if (!isPornEditor) {
                                if (!directToStaticPage(params.folder)) {

                                    setAlbumPageHeader(params.folder);
                                    getAlbumImages(params.folder);



                                }
                            }
                            else {
                                setAlbumPageHeader(params.folder);
                                getAlbumImages(params.folder);
                                //logPageHit(params.folder);
                            }
                        }
                    }, 300);
                }
            }, 300);
        });

    </script>
  </body>
</html>